<!DOCTYPE html>
<html lang="en">
<head>

<title>Menubar</title>

<style>
    /* Reset some default styles for consistency */
body, h1, nav, ul, li {
  margin: 0;
  padding: 0;
  list-style: none;
}

.menubar ul {
  display: flex;
}

.menubar a {
  text-decoration: none;
  color: #333;
  padding: 5px 10px;
}

.menubar a:hover {
  background-color: #ddd;
}

.menubar a:focus {
  outline: none;
  background-color: #ccc;
}

/* Submenu style */
.submenu {
  display: none;
  background-color: #f0f0f0;
  padding: 10px;
}

.submenu a {
  text-decoration: none;
  color: #333;
  padding: 5px 10px;
}

.submenu a:hover {
  background-color: #ddd;
}

.submenu a:focus {
  outline: none;
  background-color: #ccc;
}

</style>
</head>
<body>
  <header>
    <h1>MenuBar Example</h1>
  </header>
  <nav>
    <div class="menubar" id="menubar">
        <ul>
            <li>
                <a role="menuitem" href="#home">Home</a>
            </li>
            <li>
                <a role="menuitem" href="#overview">Admissions</a>
                <div class="submenu">
                    <a role="menuitem" href="#meetingroom">Apply</a>
                    <a role="menuitem" href="#mainhall">Tuition</a>
                    <a role="menuitem" href="#cabin">Academics</a>
                </div>
            </li>
            <li>
                <a role="menuitem" href="#aboutus">About Us</a>
                <div class="submenu">
                    <a role="menuitem" href="#team">Overview</a>
                    <a role="menuitem" href="#mission">Contact Us</a>
                </div>
            </li>
        </ul>
    </div>
  </nav>      
  <script>

    // Function to handle keyboard navigation
    function handleNavigation(event) {
      const key = event.key;
      const currentLink = event.target;
      const parentItem = currentLink.parentNode;

      if (key === 'ArrowDown') {
        const submenu = parentItem.querySelector('.submenu');
        if (submenu) {
          event.preventDefault();
          const submenuLinks = submenu.querySelectorAll('a');
          if (submenuLinks.length > 0) {
            submenuLinks[0].focus();
          }
        }
      } else if (key === 'ArrowUp') {
        const submenu = parentItem.parentNode.querySelector('.submenu');
        if (submenu) {
          event.preventDefault();
          const parentLink = submenu.previousElementSibling.querySelector('a');
          parentLink.focus();
        }
      } else if (key === 'ArrowRight') {
        const nextItem = parentItem.nextElementSibling;
        if (nextItem) {
          event.preventDefault();
          const nextLink = nextItem.querySelector('a');
          nextLink.focus();
        }
      } else if (key === 'ArrowLeft') {
        const prevItem = parentItem.previousElementSibling;
        if (prevItem) {
          event.preventDefault();
          const prevLink = prevItem.querySelector('a');
          prevLink.focus();
        }
      }
    }

    // Function to handle submenu navigation
    function handleSubmenuNavigation(event) {
      const key = event.key;
      const currentLink = event.target;
      const submenu = currentLink.parentNode.parentNode;
      const parentItem = submenu.parentNode;

      if (key === 'ArrowUp') {
        event.preventDefault();
        const previousLink = currentLink.parentNode.previousElementSibling.querySelector('a');
        if (previousLink) {
          previousLink.focus();
        } else {
          parentItem.querySelector('a').focus();
        }
      } else if (key === 'ArrowDown') {
        event.preventDefault();
        const nextLink = currentLink.parentNode.nextElementSibling.querySelector('a');
        if (nextLink) {
          nextLink.focus();
        } else {
          parentItem.querySelector('a').focus();
        }
      } else if (key === 'ArrowLeft') {
        event.preventDefault();
        parentItem.querySelector('a').focus();
      }
    }

    // Attach event listeners to menu items
    const menuItems = document.querySelectorAll('.menubar a');
    menuItems.forEach((item) => {
      item.addEventListener('keydown', handleNavigation);
    });

    // Attach event listeners to submenu items
    const submenuItems = document.querySelectorAll('.submenu a');
    submenuItems.forEach((item) => {
      item.addEventListener('keydown', handleSubmenuNavigation);
    });
  </script>
</body>
</html>